{% extends 'base.html' %}

{% block content %}
<div class="login-container">
    <div class="login-card">
        <h1 class="login-title">Iniciar Sesión</h1>
        <form method="post" class="login-form">
            {% csrf_token %}
            {{ form.username }}
            <div class="password-container">
                {{ form.password }}
                <button type="button" id="togglePassword" class="btn-toggle-password">
                    <i class="fas fa-eye"></i>
                </button>
            </div>
            <button type="submit" class="btn-login">Ingresar</button>
        </form>
        <p class="register-link">
            ¿No tienes una cuenta? <a href="{% url 'register' %}">Regístrate aquí</a>
        </p>
        <p class="password-reset-link">
            <a href="{% url 'recuperar_contrasenia' %}">¿Olvidaste tu contraseña?</a>
        </p>
    </div>
</div>

<!-- Scripts necesarios -->
<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
<!-- Script para mostrar/ocultar la contraseña -->
<script>
    const togglePassword = document.querySelector('#togglePassword');
    const password = document.querySelector('#id_password');

    togglePassword.addEventListener('click', function (e) {
        // Alterna el tipo de input entre 'password' y 'text'
        const type = password.getAttribute('type') === 'password' ? 'text' : 'password';
        password.setAttribute('type', type);
        
        // Alterna el icono del botón
        this.classList.toggle('fa-eye');
        this.classList.toggle('fa-eye-slash');
    });
</script>
{% endblock %}